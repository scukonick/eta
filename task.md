# Задача "Расчёт времени подачи"

Приложение Wheely позволяет вызвать личного водителя. При открытии приложения
клиент видит время подачи машины.

Нужно спроектировать и разработать сервис который будет вычислять время подачи
машины с точностью до минуты.

Алгоритм работы сервиса должен быть такой:
1. Получаем координаты ближайших машин;
2. Получаем время подачи машин;
3. Возвращаем наименьшее время подачи.


## Требования к реализации

1. Корректная работа;
2. Отказоустойчивость;
3. Высокая скорость ответа:
    - средняя меньше 100мс;
    - максимальная не больше 1000 мс;
4. Язык разработки Golang (предпочтительней) или Ruby;
5. Координаты машин нужно брать через "Сервис координат машин";
6. Рассчитывает время маршрута нужно через сервис "Сервис времени маршрута".

## Описания сервисов

Существует два сервиса:

### Сервис координат машин
Сервис координат машин выбирает N машин вокруг заданной точки.

Входные данные:
- координата (вокруг которой выбираются машины);
- максимальное количество результатов.

Результат: список координат машин готовых выполнить заказ.

Время ответа сервиса 100 - 300 мс.

Описание протокола находится в файле [./car-swagger.yml](./car-swagger.yml).

Пример запроса:
```bash
curl 'https://dev-api.wheely.com/fake-eta/cars?lat=55.752992&lng=37.618333&limit=3'

# [{"id":166,"lat":55.7575429,"lng":37.6135117},{"id":229,"lat":55.74837156167371,"lng":37.61180107665421},{"id":8,"lat":55.7532706,"lng":37.6076902}]
```

### Сервис времени маршрута
Сервис времени маршрута рассчитывает время маршрута от списка координат машин к
одной координате.

Входные данные:
- список пар координат начала маршрута;
- координата окончания маршрута.

Время ответа сервиса 200 - 500 мс.

Описание протокола находится в файле [./predict-swagger.yml](./predict-swagger.yml).

Примеры запроса:
```bash
curl -X POST -H 'Content-Type: application/json' -d '{"target": {"lat": 55.752992, "lng": 37.618333}, "source": [{"lat":55.7575429, "lng":37.6135117},{"lat":55.74837156167371, "lng":37.61180107665421},{"lat":55.7532706,"lng":37.6076902}]}' 'https://dev-api.wheely.com/fake-eta/predict'

# [1,1,1]
```
